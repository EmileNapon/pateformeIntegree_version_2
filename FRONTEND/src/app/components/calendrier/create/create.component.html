



<div class="container py-5">
    <!-- Project Header -->
    <div class="project-header p-4 mb-4">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h1 class="mb-1">Construction de la Route Régionale RN5</h1>
                <div class="d-flex align-items-center flex-wrap gap-2 mb-3">
                    <span class="status-badge status-en_cours">
                        <i class="fas fa-spinner me-1"></i> En cours
                    </span>
                    <span class="text-white-50">
                        <i class="far fa-calendar-alt me-1"></i> 15/03/2023 - 30/11/2023
                    </span>
                    <span class="text-white-50">
                        <i class="fas fa-map-marker-alt me-1"></i> Région de l'Adamaoua
                    </span>
                </div>
                <p class="text-white mb-0">Projet de construction d'une route de 45km reliant les villes de Ngaoundéré et Meiganga pour faciliter le transport des marchandises et des personnes.</p>
            </div>
            <div class="col-md-4 text-md-end mt-3 mt-md-0">
                <div class="bg-white text-dark p-3 rounded d-inline-block">
                    <h5 class="mb-1">Budget Total</h5>
                    <h3 class="mb-0 text-primary">2,450,000,000 FCFA</h3>
                    <div class="progress mt-2 budget-progress">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 65%;" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <small class="text-muted">65% du budget utilisé</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="row">
        <!-- Left Column -->
        <div class="col-lg-8">
            <!-- Navigation Tabs -->
            <ul class="nav nav-pills mb-4" id="projectTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="timeline-tab" data-bs-toggle="pill" data-bs-target="#timeline" type="button" role="tab">Calendrier</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="documents-tab" data-bs-toggle="pill" data-bs-target="#documents" type="button" role="tab">Documents</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="reports-tab" data-bs-toggle="pill" data-bs-target="#reports" type="button" role="tab">Signalements</button>
                </li>
            </ul>

            <!-- Tab Content -->
            <div class="tab-content" id="projectTabsContent">
                <!-- Timeline Tab -->
            <div class="tab-pane fade show active" id="timeline" role="tabpanel">
               <button (click)='changecreateListeCalenedrier()' *ngIf='isVissibleCalendrierButton '> ajouter une nouvelle phase</button>
               <br/>  <br/>
               <body *ngIf='isVissibleCalendrierCreate '>
                <div class="container py-5">
                    <div class="row justify-content-center">
                        <div class="col-lg-10">
                            <div class="form-container">
                                <div class="form-header">
                                    <h2 class="text-center"><i class="fas fa-project-diagram"></i> Création d'une phase</h2>
                                </div>
                                
                                <form [formGroup]="phaseForm" (ngSubmit)="onSubmit()"  >
                                    <!-- Informations Générales -->
                                    <div class="form-section">
                                        <h4 class="section-title"><i class="fas fa-info-circle"></i>Titre</h4>
                                        
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <label for="titre" class="form-label required-field">Titre</label>
                                                <input type="text" class="form-control" id="titre" formControlName="titre" required>
                                            </div>
                                            
                                            
                                        </div>
                                        
                                        <div class="row mb-3">
                                            <div class="col-md-4">
                                                <label for="date_debut" class="form-label required-field">Date de Début</label>
                                                <input type="date" class="form-control" id='date_debut' formControlName="date_debut" required>
                                            </div>
                                            <div class="col-md-4">
                                                <label for="date_fin" class="form-label">Date de Fin </label>
                                                <input type="date" class="form-control" id='date_fin' formControlName="date_fin">
                                            </div>
                                        </div>
                                        
                                        
                                    </div>
                                    
                                    <!-- Détails du Projet -->
                                    <div class="form-section">
                                        
                                        <div class="mb-3">
                                            <label for="description" class="form-label required-field">Description Détaillée</label>
                                            <textarea class="form-control" id='description' formControlName="description" rows="5" required></textarea>
                                        </div>
                                    </div>
            
                                    <div class="d-flex justify-content-between mt-4">
                                        <button type="button" class="btn btn-outline-secondary">
                                            <i class="fas fa-times"></i> Annuler
                                        </button>
                                        <button type="submit"  [disabled]="phaseForm.invalid" class="btn btn-primary">
                                            <i class="fas fa-save"></i> Créer la phase
                                        </button>
                                    </div>
                                  </form>
                            </div>
                        </div>
                    </div>
                </div>
            

            </body>
            <div *ngIf='buttonLivrablePhase'>
                <button (click)='phasePhase()'> ajouter les etapes de phase de cette phase</button>
                   <br/><br/>
                <button (click)='statutAjoutLivrable()'> ajouter des livrables</button>


            </div>



                <body *ngIf='phasePhaseVisible'>
                    <div class="container py-5">
                        <div class="row justify-content-center">
                            <div class="col-lg-10">
                                <div class="form-container">
                                    <div class="form-header">
                                        <h2 class="text-center"><i class="fas fa-project-diagram"></i> Création d'une phase de la phase 1</h2>
                                    </div>
                                    
                                    <form [formGroup]="FormsPhasePhase" (ngSubmit)="onSubmit2()"  >
                                        <!-- Informations Générales -->
                                        <div class="form-section">
                                            <div class="mb-3">
                                                <label for="phase" class="form-label required-field">Phase associée</label>
                                                <select id="phase" formControlName="phase" class="form-select" required>
                                                  <option *ngFor="let p of phase" [value]="p.id">{{ p.titre }}</option>
                                                </select>
                                              </div>
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <label for="titre" class="form-label required-field">Titre</label>
                                                    <input type="text" class="form-control" id="titre" formControlName="titre" required>
                                                </div>  
                                            </div>
                                            
                                            <div class="row mb-3">
                                                <div class="col-md-4">
                                                    <label for="date_debut" class="form-label required-field">Date de Début</label>
                                                    <input type="date" class="form-control" id='date_debut' formControlName="date_debut" required>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="date_fin" class="form-label">Date de Fin </label>
                                                    <input type="date" class="form-control" id='date_fin' formControlName="date_fin">
                                                </div>
                                            </div>
                                            
                                            
                                        </div>
                                        
                                        <!-- Détails du Projet -->
                                        <div class="form-section">
                                            
                                            <div class="mb-3">
                                                <label for="description" class="form-label required-field">Description Détaillée</label>
                                                <textarea class="form-control" id='description' formControlName="description" rows="5" required></textarea>
                                            </div>
                                        </div>
                
                                        <div class="d-flex justify-content-between mt-4">
                                            <button type="button" class="btn btn-outline-secondary">
                                                <i class="fas fa-times"></i> Annuler
                                            </button>
                                            <button type="submit"  [disabled]="FormsPhasePhase.invalid" class="btn btn-primary">
                                                <i class="fas fa-save"></i> Créer la phase
                                            </button>
                                        </div>
                                      </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </body>

                <body *ngIf='statutAjoutLivrableVisible'>
                    <div class="container py-5">
                        <div class="row justify-content-center">
                            <div class="col-lg-10">
                                <div class="form-container">
                                    <div class="form-header">
                                        <h2 class="text-center"><i class="fas fa-project-diagram"></i> Création d'une phase de la phase</h2>
                                    </div>
                                    
                                    <form [formGroup]="phaseForm" (ngSubmit)="onSubmit()"  >
                                        <!-- Informations Générales -->
                                        <div class="form-section">
                                            <h4 class="section-title"><i class="fas fa-info-circle"></i>Titre</h4>
                                            
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <label for="titre" class="form-label required-field">Titre</label>
                                                    <input type="text" class="form-control" id="titre" formControlName="titre" required>
                                                </div>  
                                            </div>
                                            
                                            <div class="row mb-3">
                                                <div class="col-md-4">
                                                    <label for="date_debut" class="form-label required-field">Date de Début</label>
                                                    <input type="date" class="form-control" id='date_debut' formControlName="date_debut" required>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="date_fin" class="form-label">Date de Fin </label>
                                                    <input type="date" class="form-control" id='date_fin' formControlName="date_fin">
                                                </div>
                                            </div>
                                            
                                            
                                        </div>
                                        
                                        <!-- Détails du Projet -->
                                        <div class="form-section">
                                            
                                            <div class="mb-3">
                                                <label for="description" class="form-label required-field">Description Détaillée</label>
                                                <textarea class="form-control" id='description' formControlName="description" rows="5" required></textarea>
                                            </div>
                                        </div>
                
                                        <div class="d-flex justify-content-between mt-4">
                                            <button type="button" class="btn btn-outline-secondary">
                                                <i class="fas fa-times"></i> Annuler
                                            </button>
                                            <button type="submit"  [disabled]="phaseForm.invalid" class="btn btn-primary">
                                                <i class="fas fa-save"></i> Créer la phase
                                            </button>
                                        </div>
                                      </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </body>




            <body  *ngIf='isVissibleCalendrierList'>
              
                    <h4 class="mb-4"><i class="fas fa-calendar-alt me-2"></i>Calendrier de Réalisation</h4> 
                    
                    <div class="timeline">
                        <!-- Phase 1 -->
                        <div class="timeline-item">
                            <div class="timeline-dot bg-primary">
                                <i class="fas fa-flag"></i>
                            </div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h5 class="mb-0">Phase 1: Préparation du terrain</h5>
                                    <span class="badge bg-primary">Terminé</span>
                                </div>
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="text-muted"><i class="far fa-calendar me-1"></i> 15/03/2023 - 30/04/2023</span>
                                    <span class="text-muted"><i class="fas fa-money-bill-wave me-1"></i> 450,000,000 FCFA</span>
                                </div>
                                <p>Déblaiement du terrain, délimitation de la zone de construction et installation du chantier. Cette phase incluait également la mise en place des mesures de sécurité pour les travailleurs.</p>
                                
                                <div class="accordion mt-3" id="phase1Accordion">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#phase1Details">
                                                Détails des livrables
                                            </button>
                                        </h2>
                                        <div id="phase1Details" class="accordion-collapse collapse" data-bs-parent="#phase1Accordion">
                                            <div class="accordion-body">
                                                <ul class="list-group list-group-flush">
                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                        <span>Rapport d'étude géotechnique</span>
                                                        <a href="#" class="badge bg-primary rounded-pill"><i class="fas fa-download me-1"></i>Télécharger</a>
                                                    </li>
                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                        <span>Plan de sécurité du chantier</span>
                                                        <a href="#" class="badge bg-primary rounded-pill"><i class="fas fa-download me-1"></i>Télécharger</a>
                                                    </li>
                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                        <span>Photos du terrain préparé</span>
                                                        <a href="#" class="badge bg-primary rounded-pill"><i class="fas fa-download me-1"></i>Télécharger</a>
                                                    </li>
                                                </ul>
                                            </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Phase 2 -->
                        <div class="timeline-item">
                            <div class="timeline-dot bg-success">
                                <i class="fas fa-road"></i>
                            </div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h5 class="mb-0">Phase 2: Construction de la chaussée</h5>
                                    <span class="badge bg-success">En cours</span>
                                </div>
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="text-muted"><i class="far fa-calendar me-1"></i> 01/05/2023 - 30/09/2023</span>
                                    <span class="text-muted"><i class="fas fa-money-bill-wave me-1"></i> 1,200,000,000 FCFA</span>
                                </div>
                                <p>Construction de la structure de la route incluant les couches de fondation, la couche de base et la couche de roulement. 65% des travaux sont déjà réalisés avec un avancement conforme au planning.</p>
                                
                                <div class="progress-steps mt-4">
                                    <div class="progress-step completed">
                                        <strong>Préparation de la plateforme</strong>
                                        <p class="mb-0 text-muted small">Terminé le 15/05/2023</p>
                                    </div>
                                    <div class="progress-step completed">
                                        <strong>Mise en place des couches de fondation</strong>
                                        <p class="mb-0 text-muted small">Terminé le 30/06/2023</p>
                                    </div>
                                    <div class="progress-step current">
                                        <strong>Construction de la couche de base</strong>
                                        <p class="mb-0 text-muted small">En cours - 75% réalisé</p>
                                    </div>
                                    <div class="progress-step">
                                        <strong>Couche de roulement</strong>
                                        <p class="mb-0 text-muted small">Prévu pour 15/08/2023</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Phase 3 -->
                        <div class="timeline-item">
                            <div class="timeline-dot bg-secondary">
                                <i class="fas fa-traffic-light"></i>
                            </div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h5 class="mb-0">Phase 3: Équipements et signalisation</h5>
                                    <span class="badge bg-secondary">Planifié</span>
                                </div>
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="text-muted"><i class="far fa-calendar me-1"></i> 01/10/2023 - 15/11/2023</span>
                                    <span class="text-muted"><i class="fas fa-money-bill-wave me-1"></i> 500,000,000 FCFA</span>
                                </div>
                                <p>Installation de la signalisation verticale et horizontale, des glissières de sécurité et des équipements de contrôle. Cette phase inclura également la mise en place des systèmes de drainage.</p>
                            </div>
                        </div>
                        
                        <!-- Phase 4 -->
                        <div class="timeline-item">
                            <div class="timeline-dot bg-warning">
                                <i class="fas fa-check-double"></i>
                            </div>
                            <div class="timeline-content">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h5 class="mb-0">Phase 4: Réception et inauguration</h5>
                                    <span class="badge bg-warning text-dark">Planifié</span>
                                </div>
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="text-muted"><i class="far fa-calendar me-1"></i> 16/11/2023 - 30/11/2023</span>
                                    <span class="text-muted"><i class="fas fa-money-bill-wave me-1"></i> 300,000,000 FCFA</span>
                                </div>
                                <p>Tests finaux, réception des travaux par les autorités et cérémonie d'inauguration officielle. Cette phase inclura également la remise des documents finaux et des garanties.</p>
                            </div>
                        </div>
                    </div>
                
                
                <!-- Documents Tab -->
                <div class="tab-pane fade" id="documents" role="tabpanel">
                    <h4 class="mb-4"><i class="fas fa-file-alt me-2"></i>Documents du Projet</h4>
                    
                    
                </div>
                
                <!-- Reports Tab -->
                <div class="tab-pane fade" id="reports" role="tabpanel">
                    <h4 class="mb-4"><i class="fas fa-exclamation-triangle me-2"></i>Signalements des Citoyens</h4>
                </div>
            </div>
        </body>
       </div>
    </div>
        

    </div>
</div>

