

<body>
    <div class="container py-5">
        <!-- Project Header -->
        <div class="project-header p-4 mb-4">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1 class="mb-3">{{projet?.nom}}</h1>
                    <div class="d-flex align-items-center flex-wrap gap-2 mb-3">
                        <span class="status-badge status-en_cours">
                            <i class="fas fa-spinner me-1"></i> {{projet?.statut}}
                        </span>
                        <span class="text-white-50">
                            <i class="far fa-calendar-alt me-1"></i> {{projet?.dateDebut}} - {{projet?.dateFin}}
                        </span>
                        <span class="text-white-50">
                            <i class="fas fa-map-marker-alt me-1"></i> {{projet?.region}}
                        </span>
                    </div>
                    <p class="text-white mb-0">{{projet?.description}}</p>
                </div>
                <div class="col-md-4 text-md-end mt-3 mt-md-0">
                    <div class="bg-white text-dark p-4 rounded-3 d-inline-block budget-box" style="width: 300px;">
                        <h5 class="mb-2">Budget Total</h5>
                        <h2 class="mb-3 text-primary fw-bold">{{projet?.budget}}</h2>
                        <div class="progress mt-2 budget-progress">
                            <div class="progress-bar bg-success progress-bar-striped" role="progressbar" style="width: 65%;" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="d-flex justify-content-between mt-1">
                            <small class="text-muted">65% utilisé</small>
                            <small class="text-success"><i class="fas fa-check-circle me-1"></i> Budget contrôlé</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Project Metrics -->
        <div class="row mb-4">
            <div class="col-md-3 mb-3 mb-md-0">
                <div class="metric-card h-100">
                    <div class="d-flex align-items-center">
                        <div class="bg-primary bg-opacity-10 p-2 rounded me-3">
                            <i class="fas fa-road text-primary fs-4"></i>
                        </div>
                        <div>
                            <div class="metric-value text-primary">{{projet?.longueur_troncon}}</div>
                            <div class="metric-label">Longueur totale</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-3 mb-md-0">
                <div class="metric-card h-100">
                    <div class="d-flex align-items-center">
                        <div class="bg-success bg-opacity-10 p-2 rounded me-3">
                            <i class="fas fa-check-circle text-success fs-4"></i>
                        </div>
                        <div>
                            <div class="metric-value text-success">65%</div>
                            <div class="metric-label">Progression</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-3 mb-md-0">
                <div class="metric-card h-100">
                    <div class="d-flex align-items-center">
                        <div class="bg-warning bg-opacity-10 p-2 rounded me-3">
                            <i class="fas fa-users text-warning fs-4"></i>
                        </div>
                        <div>
                            <div class="metric-value text-warning">158</div>
                            <div class="metric-label">Employés</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="metric-card h-100">
                    <div class="d-flex align-items-center">
                        <div class="bg-info bg-opacity-10 p-2 rounded me-3">
                            <i class="fas fa-clock text-info fs-4"></i>
                        </div>
                        <div>
                            <div class="metric-value text-info">142 jours</div>
                            <div class="metric-label">Temps restant</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="row">
            <!-- Left Column -->
            <div class="col-lg-8 mb-4 mb-lg-0">
                <!-- Navigation Tabs -->
                <ul class="nav nav-tabs mb-4" id="projectTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="timeline-tab" data-bs-toggle="tab" data-bs-target="#timeline" type="button" role="tab">
                            <i class="fas fa-calendar-alt me-2"></i>Calendrier
                        </button>
                    </li>

                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="documents-tab" data-bs-toggle="tab" data-bs-target="#documents" type="button" role="tab">
                            <i class="fas fa-file-alt me-2"></i>Documents
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="gallery-tab" data-bs-toggle="tab" data-bs-target="#gallery" type="button" role="tab">
                            <i class="fas fa-images me-2"></i>Média
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="newphase-tab" data-bs-toggle="tab" data-bs-target="#newphase" type="button" role="tab">
                            <i class="fas fa-calendar-alt me-2"></i> Nouvelle phase
                        </button>
                    </li>
                </ul>
                
                <!-- Tab Content -->
                <div class="tab-content" id="projectTabsContent">
                    <!-- Timeline Tab -->
                    <div class="tab-pane fade show active" id="timeline" role="tabpanel">
                        <h4 class="mb-4"><i class="fas fa-calendar-alt me-2"></i>Calendrier de Réalisation</h4>
                        
                        <div class="timeline">
                            <!-- Phase 1 -->
                            <div class="timeline-item">
                                <div class="timeline-dot bg-success">
                                    <i class="fas fa-flag-checkered"></i>
                                </div>
                                <div class="timeline-content">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <h5 class="mb-0">Phase 1: Préparation du terrain</h5>
                                        <span class="badge bg-success">Terminé</span>
                                    </div>
                                    <div class="d-flex flex-wrap gap-2 mb-3">
                                        <span class="text-muted"><i class="far fa-calendar me-1"></i> 15/03/2023 - 30/04/2023</span>
                                        <span class="text-muted"><i class="fas fa-money-bill-wave me-1"></i> 450,000,000 FCFA</span>
                                    </div>
                                    <p class="mb-3">Déblaiement du terrain, délimitation de la zone de construction et installation du chantier. Cette phase incluait également la mise en place des mesures de sécurité pour les travailleurs.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <span class="badge bg-light text-dark me-2"><i class="fas fa-check-circle me-1 text-success"></i> 100% complété</span>
                                        </div>
                                        <button class="btn btn-sm btn-primary">
                                            <i class="fas fa-info-circle me-1"></i> Détails
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Phase 2 -->
                            <div class="timeline-item">
                                <div class="timeline-dot bg-warning">
                                    <i class="fas fa-truck-pickup"></i>
                                </div>
                                <div class="timeline-content">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <h5 class="mb-0">Phase 2: Travaux de terrassement</h5>
                                        <span class="badge bg-warning text-dark">En cours</span>
                                    </div>
                                    <div class="d-flex flex-wrap gap-2 mb-3">
                                        <span class="text-muted"><i class="far fa-calendar me-1"></i> 01/05/2023 - 30/09/2023</span>
                                        <span class="text-muted"><i class="fas fa-money-bill-wave me-1"></i> 1,200,000,000 FCFA</span>
                                    </div>
                                    <p class="mb-3">Travaux de terrassement, construction des fondations et pose des couches de base pour la route. Cette phase est cruciale pour la durabilité de l'infrastructure.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <span class="badge bg-light text-dark me-2"><i class="fas fa-spinner me-1 text-warning"></i> 75% complété</span>
                                            <span class="badge bg-light text-dark"><i class="fas fa-clock me-1"></i> 32 jours restants</span>
                                        </div>
                                        <button class="btn btn-sm btn-primary">
                                            <i class="fas fa-info-circle me-1"></i> Détails
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Phase 3 -->
                            <div class="timeline-item">
                                <div class="timeline-dot bg-secondary">
                                    <i class="fas fa-traffic-light"></i>
                                </div>
                                <div class="timeline-content">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <h5 class="mb-0">Phase 3: Équipements et signalisation</h5>
                                        <span class="badge bg-secondary">Planifié</span>
                                    </div>
                                    <div class="d-flex flex-wrap gap-2 mb-3">
                                        <span class="text-muted"><i class="far fa-calendar me-1"></i> 01/10/2023 - 15/11/2023</span>
                                        <span class="text-muted"><i class="fas fa-money-bill-wave me-1"></i> 500,000,000 FCFA</span>
                                    </div>
                                    <p class="mb-3">Installation de la signalisation verticale et horizontale, des glissières de sécurité et des équipements de contrôle. Cette phase inclura également la mise en place des systèmes de drainage.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <span class="badge bg-light text-dark"><i class="fas fa-clock me-1"></i> Démarrage dans 68 jours</span>
                                        </div>
                                        <button class="btn btn-sm btn-primary">
                                            <i class="fas fa-info-circle me-1"></i> Détails
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Phase 4 -->
                            <div class="timeline-item">
                                <div class="timeline-dot bg-info">
                                    <i class="fas fa-check-double"></i>
                                </div>
                                <div class="timeline-content">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <h5 class="mb-0">Phase 4: Réception et inauguration</h5>
                                        <span class="badge bg-info text-white">Planifié</span>
                                    </div>
                                    <div class="d-flex flex-wrap gap-2 mb-3">
                                        <span class="text-muted"><i class="far fa-calendar me-1"></i> 16/11/2023 - 30/11/2023</span>
                                        <span class="text-muted"><i class="fas fa-money-bill-wave me-1"></i> 300,000,000 FCFA</span>
                                    </div>
                                    <p class="mb-3">Tests finaux, réception des travaux par les autorités et cérémonie d'inauguration officielle. Cette phase inclura également la remise des documents finaux et des garanties.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <span class="badge bg-light text-dark"><i class="fas fa-clock me-1"></i> Démarrage dans 114 jours</span>
                                        </div>
                                        <button class="btn btn-sm btn-primary">
                                            <i class="fas fa-info-circle me-1"></i> Détails
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Documents Tab -->
                    <div class="tab-pane fade" id="documents" role="tabpanel">
                        <h4 class="mb-4"><i class="fas fa-file-alt me-2"></i>Documents du Projet</h4>
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i> Cette section contient tous les documents officiels relatifs au projet.
                        </div>
                        
                        <div class="list-group">
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="fas fa-file-pdf text-danger me-2"></i>
                                    <strong>Plan directeur du projet</strong>
                                    <div class="text-muted small mt-1">Dernière mise à jour: 22/06/2023</div>
                                </div>
                                <span class="badge bg-primary rounded-pill">Version 3.2</span>
                            </a>
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="fas fa-file-excel text-success me-2"></i>
                                    <strong>Budget détaillé</strong>
                                    <div class="text-muted small mt-1">Dernière mise à jour: 15/05/2023</div>
                                </div>
                                <span class="badge bg-primary rounded-pill">Version 1.5</span>
                            </a>
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="fas fa-file-word text-primary me-2"></i>
                                    <strong>Rapport d'avancement - Juin 2023</strong>
                                    <div class="text-muted small mt-1">Dernière mise à jour: 05/07/2023</div>
                                </div>
                                <span class="badge bg-primary rounded-pill">Final</span>
                            </a>
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div>
                                    <i class="fas fa-file-contract text-warning me-2"></i>
                                    <strong>Contrat principal</strong>
                                    <div class="text-muted small mt-1">Dernière mise à jour: 10/03/2023</div>
                                </div>
                                <span class="badge bg-primary rounded-pill">Version signée</span>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Gallery Tab -->
                    <div class="tab-pane fade" id="gallery" role="tabpanel">
                        <h4 class="mb-4"><i class="fas fa-images me-2"></i>Galerie Média</h4>
                        <div class="alert alert-warning">
                            <i class="fas fa-camera me-2"></i> Photos et vidéos du chantier et des différentes phases du projet.
                        </div>
                        
                        <div class="row">
                            <!-- Image 1 -->
                            <div class="col-md-4 mb-3">
                                <div class="card">
                                    <img src="https://placehold.co/600x400?text=Chantier+Avancement" class="card-img-top" alt="Chantier Avancement">
                                    <div class="card-body">
                                        <h5 class="card-title">Avancement des travaux</h5>
                                        <p class="card-text text-muted small">Photo du 25/06/2023 - Secteur 2</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Image 2 -->
                            <div class="col-md-4 mb-3">
                                <div class="card">
                                    <img src="https://placehold.co/600x400?text=Phase+Terrassement" class="card-img-top" alt="Phase Terrassement">
                                    <div class="card-body">
                                        <h5 class="card-title">Travaux de terrassement</h5>
                                        <p class="card-text text-muted small">Photo du 15/05/2023 - Secteur 1</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Image 3 -->
                            <div class="col-md-4 mb-3">
                                <div class="card">
                                    <img src="https://placehold.co/600x400?text=Visite+Officielle" class="card-img-top" alt="Visite Officielle">
                                    <div class="card-body">
                                        <h5 class="card-title">Visite des autorités</h5>
                                        <p class="card-text text-muted small">10/06/2023</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Video -->
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="ratio ratio-16x9">
                                            <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="YouTube video" allowfullscreen></iframe>
                                        </div>
                                        <h5 class="card-title mt-3">Reportage sur le projet RN5</h5>
                                        <p class="card-text text-muted small">Diffusé le 20/04/2023 - CRTV</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="container">
                        <form [formGroup]="phaseForm" >
                          <mat-card class="section-card">
                            <mat-card-header>
                              <mat-card-title>Creation d'une nouvelle phase</mat-card-title>
                            </mat-card-header>
                            <mat-card-content>
                              <div class="form-row">
                                <mat-form-field class="form-col">
                                  <mat-label>Nom de cette phase</mat-label>
                                  <input matInput formControlName="nom" placeholder="Ex: Réhabilitation de la RN4">
                                  <mat-error *ngIf="phaseForm.get('nom')?.hasError('required')">Ce champ est requis</mat-error>
                                </mat-form-field>
                              </div>
                              <div class="form-row">
                                <mat-form-field class="form-col">
                                  <mat-label>Date de début</mat-label>
                                  <input matInput [matDatepicker]="startPicker" formControlName="dateDebut">
                                  <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
                                  <mat-datepicker #startPicker></mat-datepicker>
                                </mat-form-field>
                                <mat-form-field class="form-col">
                                  <mat-label>Date de fin prévue</mat-label>
                                  <input matInput [matDatepicker]="endPicker" formControlName="dateFin">
                                  <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
                                  <mat-datepicker #endPicker></mat-datepicker>
                                </mat-form-field>
                              </div>
                            </mat-card-content>
                          </mat-card>

                              <mat-card class="section-card">
                                <mat-card-header>
                                  <mat-card-title>Budget et Description</mat-card-title>
                                </mat-card-header>
                                <mat-card-content>
                                  <div class="form-row">
                                    <mat-form-field class="form-col">
                                      <mat-label>Montant (FCFA)</mat-label>
                                      <input matInput type="number" formControlName="budget">
                                    </mat-form-field>
                                    <mat-form-field class="form-col">
                                      <mat-label>Statut</mat-label>
                                      <mat-select formControlName="statut">
                                        <mat-option value="planifie">Planifié</mat-option>
                                        <mat-option value="en_cours">En cours</mat-option>
                                        <mat-option value="termine">Terminé</mat-option>
                                        <mat-option value="suspendu">Suspendu</mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div>
                        
                                  <div class="form-row">
                                    <mat-form-field class="form-col">
                                      <mat-label>Description détaillée</mat-label>
                                      <textarea matInput formControlName="description" rows="4"></textarea>
                                    </mat-form-field>
                                  </div>
                                 </mat-card-content>
                                </mat-card>

                          <div class="action-buttons">
                            <button mat-button type="button" (click)="resetForm()">Réinitialiser</button>
                            <button mat-raised-button color="primary" (click)='onSubmit()' [disabled]="!phaseForm.valid">
                              Enregistrer le projet
                            </button>
                          </div>
                        </form>
                      </div>


                </div>
            </div>
            
            <!-- Right Column -->
            <div class="col-lg-4">
                <!-- Team Members -->
                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="fas fa-users me-2"></i>Équipe du Projet</h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex align-items-center">
                                <img src="https://placehold.co/50x50?text=MG" class="rounded-circle me-3" alt="Manager">
                                <div>
                                    <h6 class="mb-0">M. Gouda</h6>
                                    <small class="text-muted">Chef de Projet</small>
                                </div>
                            </li>
                            <li class="list-group-item d-flex align-items-center">
                                <img src="https://placehold.co/50x50?text=TA" class="rounded-circle me-3" alt="Technicien">
                                <div>
                                    <h6 class="mb-0">T. Assongmo</h6>
                                    <small class="text-muted">Ingénieur en Chef</small>
                                </div>
                            </li>
                            <li class="list-group-item d-flex align-items-center">
                                <img src="https://placehold.co/50x50?text=DK" class="rounded-circle me-3" alt="Comptable">
                                <div>
                                    <h6 class="mb-0">D. Kameni</h6>
                                    <small class="text-muted">Responsable Financier</small>
                                </div>
                            </li>
                            <li class="list-group-item d-flex align-items-center">
                                <img src="https://placehold.co/50x50?text=LM" class="rounded-circle me-3" alt="Sécurité">
                                <div>
                                    <h6 class="mb-0">L. Moukouri</h6>
                                    <small class="text-muted">Responsable Sécurité</small>
                                </div>
                            </li>
                        </ul>
                        <a href="#" class="btn btn-outline-primary mt-3 w-100">
                            <i class="fas fa-plus-circle me-1"></i> Voir toute l'équipe
                        </a>
                    </div>
                </div>
                
                <!-- Progress Chart (placeholder) -->
                <div class="card mb-4">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0"><i class="fas fa-chart-line me-2"></i>Progression du Projet</h5>
                    </div>
                    <div class="card-body">
                        <div style="height: 300px; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; border-radius: 5px;">
                            [Graphe de progression des travaux]
                        </div>
                        <div class="mt-3">
                            <div class="d-flex justify-content-between mb-2">
                                <span>Phase 1: Préparation</span>
                                <span class="text-success">100%</span>
                            </div>
                            <div class="progress mb-3" style="height: 8px;">
                                <div class="progress-bar bg-success" role="progressbar" style="width: 100%"></div>
                            </div>
                            
                            <div class="d-flex justify-content-between mb-2">
                                <span>Phase 2: Terrassement</span>
                                <span class="text-warning">75%</span>
                            </div>
                            <div class="progress mb-3" style="height: 8px;">
                                <div class="progress-bar bg-warning" role="progressbar" style="width: 75%"></div>
                            </div>
                            
                            <div class="d-flex justify-content-between mb-2">
                                <span>Phase 3: Équipements</span>
                                <span>0%</span>
                            </div>
                            <div class="progress mb-3" style="height: 8px;">
                                <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                            </div>
                            
                            <div class="d-flex justify-content-between mb-2">
                                <span>Phase 4: Réception</span>
                                <span>0%</span>
                            </div>
                            <div class="progress" style="height: 8px;">
                                <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Partners -->
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0"><i class="fas fa-handshake me-2"></i>Partenaires</h5>
                    </div>
                    <div class="card-body">
                        <div class="row text-center">
                            <div class="col-6 mb-3">
                                <img src="https://placehold.co/100x60?text=MINT" class="img-fluid" alt="Ministère">
                            </div>
                            <div class="col-6 mb-3">
                                <img src="https://placehold.co/100x60?text=ADB" class="img-fluid" alt="Banque">
                            </div>
                            <div class="col-6 mb-3">
                                <img src="https://placehold.co/100x60?text=REGION" class="img-fluid" alt="Région">
                            </div>
                            <div class="col-6 mb-3">
                                <img src="https://placehold.co/100x60?text=ENTREPRISE" class="img-fluid" alt="Entreprise">
                            </div>
                        </div>
                        <button class="btn btn-outline-info w-100">
                            <i class="fas fa-info-circle me-1"></i> En savoir plus
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3 mb-md-0">
                    <h5>Ministère des Travaux Publics</h5>
                    <p class="text-white-50">Projet de construction de la Route Régionale RN5.</p>
                </div>
                <div class="col-md-4 mb-3 mb-md-0">
                    <h5>Contact</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-phone me-2"></i> (+237) 222 22 22 22</li>
                        <li><i class="fas fa-envelope me-2"></i> contactrn5-projet.cm</li>
                        <li><i class="fas fa-map-marker-alt me-2"></i> Yaoundé, Cameroun</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Suivez-nous</h5>
                    <div class="d-flex gap-3">
                        <a href="#" class="text-white"><i class="fab fa-facebook-f fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-twitter fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-linkedin-in fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-youtube fa-lg"></i></a>
                    </div>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center text-white-50 small">
                © 2023 Projet RN5 - Tous droits réservés
            </div>
        </div>
    </footer>

    
</body>
